<div class="flex flex-col w-full h-full relative bg-white {{isMacintosh() ? 'macDevice' : 'nonMacDevice'}}">
    <div class="flex items-center justify-between ml-4">
        <div>
            <img class="h-20 w-20" src="../../../../../assets/logo/dht-logo.svg" />
        </div>
        <div class="">
            <h1 class="text-4xl font-bold px-8 "> Application Form</h1>
        </div>
        <div class="mr-4" (click)="openHelpDialog()">
            <mat-icon [matTooltip]="'Help'" [svgIcon]="'heroicons_outline:information-circle'"></mat-icon>
        </div>
    </div>
    <main class="mb-auto">
        <div class="modal-body  p-4">
            <ng-container [ngSwitch]="stepperOrientation | async">
                <div *ngSwitchCase="'horizontal'"></div>
                <div *ngSwitchCase="'vertical'"></div>
            </ng-container>
            <mat-horizontal-stepper labelPosition="bottom" [orientation]="(stepperOrientation | async)!" linear #stepper
                (selectionChange)="selectionChange($event)">
                <mat-step [stepControl]="firstFormGroup" [editable]="true">
                    <form [formGroup]="firstFormGroup" class="flex flex-col flex-auto sm:grid">
                        <ng-template matStepLabel>Personal Information</ng-template>
                        <div class="md:grid md:grid-cols-2 md:gap-4">
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>First Name</mat-label>
                                    <input matInput type="text" formControlName="first_name">
                                    <mat-hint *ngIf="this.firstFormGroup.get('first_name').hasError('required')"
                                        class="uppercase text-md text-red-500">First Name is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Last Name</mat-label>
                                    <input matInput type="text" formControlName="last_name">
                                    <mat-hint *ngIf="this.firstFormGroup.get('last_name').hasError('required')"
                                        class="uppercase text-md text-red-500">Last Name is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Email</mat-label>
                                    <input matInput type="email" formControlName="email">
                                    <mat-hint *ngIf="this.firstFormGroup.get('email').hasError('required')"
                                        class="uppercase text-md text-red-500">
                                        Email is required
                                    </mat-hint>
                                    <mat-hint *ngIf="this.firstFormGroup.get('email').hasError('pattern')"
                                        class="uppercase text-md text-red-500">
                                        Please provide a valid email address
                                    </mat-hint>
                                    <mat-hint class="uppercase text-md text-red-500"
                                        *ngIf="this.firstFormGroup.get('email').hasError('emailAlreadyExists')">
                                        Email already exists
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field fullDate class="w-full" appearance="outline">
                                    <mat-label>Date Of Birth</mat-label>
                                    <input id="date" name="date" formControlName="date_of_birth" matInput
                                        [matDatepicker]="picker4" readonly>
                                    <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                                    <mat-datepicker #picker4></mat-datepicker>
                                    <mat-hint *ngIf="this.firstFormGroup.get('date_of_birth').hasError('required')"
                                        class="uppercase text-md text-red-500">Date Of Birth is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Age</mat-label>
                                    <input matInput type="number" formControlName="age">
                                    <mat-hint *ngIf="this.firstFormGroup.get('age').hasError('required')"
                                        class="uppercase text-md text-red-500">Age is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Marital Status</mat-label>
                                    <mat-select formControlName="marital_status">
                                        <mat-option value="Single"> Single</mat-option>
                                        <mat-option value="Married">Married</mat-option>
                                        <mat-option value="Divorced"> Divorced</mat-option>
                                        <mat-option value="Other"> Other</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="this.firstFormGroup.get('marital_status').hasError('required')"
                                        class="uppercase text-md text-red-500">Marital Status is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full languages overflow-hidden">
                                    <mat-label>Languages</mat-label>
                                    <mat-select formControlName="languages" class="languages overflow-hidden" multiple>
                                        <mat-option value="English">English</mat-option>
                                        <mat-option value="Spanish">Spanish</mat-option>
                                        <mat-option value="Portuguese">Portuguese</mat-option>
                                        <mat-option value="Russian">Russian</mat-option>
                                        <mat-option value="French">French</mat-option>
                                        <mat-option value="Italian">Italian</mat-option>
                                        <mat-option value="Ukrainian">Ukrainian</mat-option>
                                        <mat-option value="German">German</mat-option>
                                        <mat-option value="Other">Other</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="this.firstFormGroup.get('languages').hasError('required')"
                                        class="uppercase text-md text-red-500">Languages are required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full languages overflow-hidden">
                                    <mat-label>Rank Speaking English</mat-label>
                                    <mat-select formControlName="rank_speaking_english"
                                        class="languages overflow-hidden">
                                        <mat-option value="1 - Fluent">1 - Fluent</mat-option>
                                        <mat-option value="2 - Native">2 - Native speaker</mat-option>
                                        <mat-option value="3 - Average">3 - Average</mat-option>
                                        <mat-option value="4 - Above average">4 - Above average</mat-option>
                                        <mat-option value="5 - Poor">5 - Poor</mat-option>
                                    </mat-select>
                                    <mat-hint
                                        *ngIf="this.firstFormGroup.get('rank_speaking_english').hasError('required')"
                                        class="uppercase text-md text-red-500">Rank Speaking English field is
                                        required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Do you have a passport?</mat-label>
                                    <mat-select matNativeControl formControlName="passport">
                                        <mat-option value="true"> Yes</mat-option>
                                        <mat-option value="false">No</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="this.firstFormGroup.get('passport').hasError('required')"
                                        class="uppercase text-md text-red-500">This field is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Are you a US Citizen?</mat-label>
                                    <mat-select formControlName="us_citizen">
                                        <mat-option value="true"> Yes</mat-option>
                                        <mat-option value="false">No</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="this.firstFormGroup.get('us_citizen').hasError('required')"
                                        class="uppercase text-md text-red-500">This field is required</mat-hint>
                                </mat-form-field>
                            </div>
                        </div>
                    </form>
                </mat-step>
                <mat-step [stepControl]="secondFormGroup" [editable]="true">
                    <form [formGroup]="secondFormGroup" class="personal-info-form flex flex-col flex-auto sm:grid">
                        <ng-template matStepLabel>Contact Information</ng-template>
                        <div class="py-3 center mx-auto flex md:justify-center sm:justify-start items-center">
                            <div class="px-4 py-5 rounded-lg text-center w-48">
                                <div class="imagePreview mb-4" *ngIf="imageURL && imageURL !== ''">
                                    <img class="w-24 h-24 mx-auto rounded-full object-cover object-center"
                                        [src]="imageURL">
                                </div>
                                <div class="mb-4" *ngIf="imageURL ==='' && secondFormGroup.get('avatar').value ">
                                    <img class="w-24 h-24 mx-auto rounded-full object-cover object-center"
                                        src="{{secondFormGroup.get('avatar').value}}" alt=" " />
                                </div>
                                <div class="mb-4" *ngIf="imageURL ==='' && secondFormGroup.get('avatar').value === ''">
                                    <img class="w-24 h-24 mx-auto rounded-full object-cover object-center"
                                        src="https://www.pngitem.com/pimgs/m/150-1503945_transparent-user-png-default-user-image-png-png.png"
                                        alt="Avatar Upload" />
                                </div>
                                <label class="cursor-pointer mt-6">
                                    <span
                                        class="mt-4 text-base leading-normal px-4 py-2 bg-blue-500 text-white text-sm rounded-full">Upload
                                        Photo</span>
                                    <input for="file" name="file" id="file" type='file' class="hidden" accept="image/*"
                                        (change)="uploadImage($event)" />
                                </label>
                            </div>
                        </div>
                        <mat-hint *ngIf="this.secondFormGroup.get('avatar').hasError('required')"
                            class="flex items-center mb-4 justify-center text-md uppercase text-red-500">Image is
                            required</mat-hint>
                        <mat-hint *ngIf="!isImage"
                            class="flex items-center justify-center text-md uppercase text-red-500">Only
                            Image files can be uploaded</mat-hint>
                        <div class="md:grid md:grid-cols-2 md:gap-4">
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Address 1</mat-label>
                                    <textarea matInput type="text" id="Address 1"
                                        formControlName="address_1"> </textarea>
                                    <mat-hint *ngIf="this.secondFormGroup.get('address_1').hasError('required')"
                                        class="uppercase text-md text-red-500">Address 1 is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Address 2</mat-label>
                                    <textarea matInput type="text" id="Address 2"
                                        formControlName="address_2"> </textarea>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Country</mat-label>
                                    <input (ngModelChange)="formValidation($event,'country')" type="text"
                                        aria-label="country" matInput formControlName="country"
                                        [matAutocomplete]="country">
                                    <mat-autocomplete #country="matAutocomplete">
                                        <mat-option *ngFor="let country of countryOptions | async" [value]="country">
                                            {{country}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <mat-hint class="flex flex-col">
                                        <span *ngIf="this.secondFormGroup.get('country').hasError('required')"
                                            class="uppercase text-md text-red-500">Country is required
                                        </span>
                                        <span *ngIf="!validCountry" class="uppercase text-md text-red-500"> Select
                                            Country from
                                            given list only
                                        </span>
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                            <div *ngIf="isState">
                                <mat-form-field class="w-full" appearance="outline">
                                    <mat-label>State</mat-label>
                                    <input (ngModelChange)="formValidation($event, 'state')" type="text"
                                        aria-label="state" matInput formControlName="state" [matAutocomplete]="state">
                                    <mat-autocomplete #state="matAutocomplete">
                                        <mat-option *ngFor="let state of stateOptions | async" [value]="state">
                                            {{state}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <mat-hint *ngIf="!validState" class="uppercase text-md text-red-500">
                                        Select State from given list only
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                            <div *ngIf="!isState">
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>State</mat-label>
                                    <input matInput id="state" type="text" name="state" formControlName="state">
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>County/Providence</mat-label>
                                    <input matInput type="text" id="county" name="county"
                                        formControlName="county_providence">
                                    <mat-hint *ngIf="this.secondFormGroup.get('county_providence').hasError('required')"
                                        class="uppercase text-md text-red-500">County/Providence is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Town/City</mat-label>
                                    <input matInput type="text" id="city" name="city" formControlName="town_city"
                                        value="city">
                                    <mat-hint *ngIf="this.secondFormGroup.get('town_city').hasError('required')"
                                        class="uppercase text-md text-red-500">Town/City is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <!-- Cell Phone -->
                            <div class="flex">
                                <mat-form-field
                                    [ngClass]="cellPhoneCountryCodeLength === 2 ? 'countryCode1' : cellPhoneCountryCodeLength === 3 ? 'countryCode2' : cellPhoneCountryCodeLength === 4 ? 'countryCode3' : 'noCountryCode'"
                                    class="w-full">
                                    <mat-label class="mt-1 ml-2.5">Cell Phone Number</mat-label>
                                    <input class="h-6"
                                        *ngIf="secondFormGroup.get('cell_phone_country_code').value == 'us' "
                                        maxlength="14" appPhoneMask type="text" matInput
                                        formControlName="cell_phone_number">
                                    <input class="h-6"
                                        *ngIf="secondFormGroup.get('cell_phone_country_code').value != 'us'"
                                        maxlength="14" type="text" matInput formControlName="cell_phone_number">
                                    <mat-select formControlName="cell_phone_country_code" matPrefix>
                                        <mat-select-trigger>
                                            <span class="flex items-center">
                                                <span class="hidden sm:flex w-6 h-4 mr-1 overflow-hidden"
                                                    [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                    [style.backgroundSize]="'24px 3876px'"
                                                    [style.backgroundPosition]="getCountryByIso(secondFormGroup.get('cell_phone_country_code').value , 1).flagImagePos"></span>
                                                <span
                                                    class="sm:mx-0.5 font-medium text-default">{{getCountryByIso(secondFormGroup.get('cell_phone_country_code').value
                                                    , 1).code}}</span>
                                            </span>
                                        </mat-select-trigger>
                                        <ng-container *ngFor="let country of countries">
                                            <mat-option [value]="country.iso">
                                                <span class="flex items-center">
                                                    <span class="w-6 h-4 overflow-hidden"
                                                        [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                        [style.backgroundSize]="'24px 3876px'"
                                                        [style.backgroundPosition]="country.flagImagePos"></span>
                                                    <span class="ml-2">{{country.name}}</span>
                                                    <span class="ml-2 font-medium">{{country.code}}</span>
                                                </span>
                                            </mat-option>
                                        </ng-container>
                                    </mat-select>
                                    <mat-hint class="flex flex-col ml-3">
                                        <span *ngIf="this.secondFormGroup.get('cell_phone_number').hasError('required')"
                                            class="font-normal text-md text-red-500 uppercase"> Cell Phone Number is
                                            required
                                        </span>
                                        <span
                                            *ngIf="this.secondFormGroup.get('cell_phone_country_code').value == 'zz'  || this.secondFormGroup.get('cell_phone_country_code').hasError('pattern')"
                                            class="font-normal text-md text-red-500 uppercase mt-1">Country Code is
                                            required
                                        </span>
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                            <!-- Home Phone -->
                            <div class="flex">
                                <mat-form-field
                                    [ngClass]="homePhoneCountryCodeLength === 2 ? 'countryCode1' : homePhoneCountryCodeLength === 3 ? 'countryCode2' : homePhoneCountryCodeLength === 4 ? 'countryCode3' : 'noCountryCode'"
                                    class="w-full">
                                    <mat-label class="mt-1 ml-2.5">Home Phone Number</mat-label>
                                    <input class="h-6"
                                        *ngIf="secondFormGroup.get('home_phone_country_code').value == 'us' "
                                        maxlength="14" appPhoneMask type="text" matInput
                                        formControlName="home_phone_number">
                                    <input class="h-6"
                                        *ngIf="secondFormGroup.get('home_phone_country_code').value != 'us'"
                                        maxlength="14" type="text" matInput formControlName="home_phone_number">
                                    <mat-select formControlName="home_phone_country_code" matPrefix>
                                        <mat-select-trigger>
                                            <span class="flex items-center">
                                                <span class="hidden sm:flex w-6 h-4 mr-1 overflow-hidden"
                                                    [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                    [style.backgroundSize]="'24px 3876px'"
                                                    [style.backgroundPosition]="getCountryByIso(secondFormGroup.get('home_phone_country_code').value , 2).flagImagePos"></span>
                                                <span
                                                    class="sm:mx-0.5 font-medium text-default">{{getCountryByIso(secondFormGroup.get('home_phone_country_code').value
                                                    , 2).code}}</span>
                                            </span>
                                        </mat-select-trigger>
                                        <ng-container *ngFor="let country of countries">
                                            <mat-option [value]="country.iso">
                                                <span class="flex items-center">
                                                    <span class="w-6 h-4 overflow-hidden"
                                                        [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                        [style.backgroundSize]="'24px 3876px'"
                                                        [style.backgroundPosition]="country.flagImagePos"></span>
                                                    <span class="ml-2">{{country.name}}</span>
                                                    <span class="ml-2 font-medium">{{country.code}}</span>
                                                </span>
                                            </mat-option>
                                        </ng-container>
                                    </mat-select>
                                    <mat-hint>
                                        <span class="ml-3 font-normal text-md uppercase text-green-500">
                                            Select your
                                            Country's
                                            Code
                                        </span>
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Postal Code</mat-label>
                                    <input matInput id="postal-code" name="postal-code" formControlName="postal_code">
                                    <mat-hint *ngIf="this.secondFormGroup.get('postal_code').hasError('required')"
                                        class="uppercase text-md text-red-500">
                                        Postal Code is required
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                        </div>
                    </form>
                </mat-step>
                <mat-step [stepControl]="thirdFormGroup" [editable]="true">
                    <form [formGroup]="thirdFormGroup" class="interview-results-form">
                        <ng-template matStepLabel>Work History</ng-template>
                        <div class="md:grid md:grid-cols-2 md:gap-4">
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Current Employer</mat-label>
                                    <input matInput type="text" formControlName="current_employer">
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Current Position/Title</mat-label>
                                    <input matInput type="text" formControlName="current_position_title">
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Brief Description Of Current Role </mat-label>
                                    <textarea matInput type="text"
                                        formControlName="current_description_of_role"> </textarea>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field birthdayFormat class="w-full" appearance="outline">
                                    <mat-label>Current Employment Period</mat-label>
                                    <mat-date-range-input [rangePicker]="picker">
                                        <input matStartDate formControlName="current_employment_period_start"
                                            placeholder="Start date" readonly>
                                        <input matEndDate formControlName="current_employment_period_end"
                                            placeholder="End date" readonly>
                                    </mat-date-range-input>
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-date-range-picker #picker></mat-date-range-picker>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Current Supervisor/Reference</mat-label>
                                    <input matInput type="text" formControlName="current_supervisor_reference">
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Can we contact Current Supervisor/Reference?</mat-label>
                                    <mat-select matNativeControl formControlName="current_contact_supervisor">
                                        <mat-option value="true"> Yes</mat-option>
                                        <mat-option value="false">No</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <!-- Current Supervisor Phone Number -->
                            <div class="flex">
                                <mat-form-field
                                    [ngClass]="currentSupervisorCountryCodeLength === 2 ? 'countryCode1' : currentSupervisorCountryCodeLength === 3 ? 'countryCode2' : currentSupervisorCountryCodeLength === 4 ? 'countryCode3' : 'noCountryCode'"
                                    class="w-full">
                                    <mat-label class="ml-2.5">Current Supervisor Phone Number</mat-label>
                                    <input class="h-6"
                                        *ngIf="thirdFormGroup.get('current_supervisor_country_code').value == 'us' "
                                        maxlength="14" appPhoneMask type="text" matInput
                                        formControlName="current_supervisor_phone_number">
                                    <input class="h-6"
                                        *ngIf="thirdFormGroup.get('current_supervisor_country_code').value != 'us'"
                                        maxlength="14" type="text" matInput
                                        formControlName="current_supervisor_phone_number">
                                    <mat-select formControlName="current_supervisor_country_code" matPrefix>
                                        <mat-select-trigger>
                                            <span class="flex items-center">
                                                <span class="hidden sm:flex w-6 h-4 mr-1 overflow-hidden"
                                                    [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                    [style.backgroundSize]="'24px 3876px'"
                                                    [style.backgroundPosition]="getCountryByIso(thirdFormGroup.get('current_supervisor_country_code').value , 3).flagImagePos"></span>
                                                <span
                                                    class="sm:mx-0.5 font-medium text-default">{{getCountryByIso(thirdFormGroup.get('current_supervisor_country_code').value
                                                    , 3).code}}</span>
                                            </span>
                                        </mat-select-trigger>
                                        <ng-container *ngFor="let country of countries">
                                            <mat-option [value]="country.iso">
                                                <span class="flex items-center">
                                                    <span class="w-6 h-4 overflow-hidden"
                                                        [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                        [style.backgroundSize]="'24px 3876px'"
                                                        [style.backgroundPosition]="country.flagImagePos"></span>
                                                    <span class="ml-2">{{country.name}}</span>
                                                    <span class="ml-2 font-medium">{{country.code}}</span>
                                                </span>
                                            </mat-option>
                                        </ng-container>
                                    </mat-select>
                                    <mat-hint>
                                        <span class="ml-3 font-normal text-md uppercase text-green-500">
                                            Select your
                                            Country's
                                            Code
                                        </span>
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                            <div></div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Previous Employer</mat-label>
                                    <input matInput type="text" formControlName="previous_employer">
                                    <mat-hint *ngIf="this.thirdFormGroup.get('previous_employer').hasError('required')"
                                        class="uppercase text-md text-red-500">Previous Employer field is
                                        required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Previous Position/Title</mat-label>
                                    <input matInput type="text" formControlName="previous_position_title">
                                    <mat-hint
                                        *ngIf="this.thirdFormGroup.get('previous_position_title').hasError('required')"
                                        class="uppercase text-md text-red-500">Position/Title field is
                                        required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Brief Description Of Previous Role </mat-label>
                                    <textarea matInput type="text"
                                        formControlName="previous_description_of_role"> </textarea>
                                    <mat-hint
                                        *ngIf="this.thirdFormGroup.get('previous_description_of_role').hasError('required')"
                                        class="uppercase text-md text-red-500">Description of role field is
                                        required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field birthdayFormat class="w-full" appearance="outline">
                                    <mat-label>Previous Employment Period</mat-label>
                                    <mat-date-range-input [rangePicker]="picker8">
                                        <input matStartDate formControlName="previous_employment_period_start"
                                            placeholder="Start date" readonly>
                                        <input matEndDate formControlName="previous_employment_period_end"
                                            placeholder="End date" readonly>
                                    </mat-date-range-input>
                                    <mat-datepicker-toggle matSuffix [for]="picker8"></mat-datepicker-toggle>
                                    <mat-date-range-picker #picker8></mat-date-range-picker>
                                    <mat-hint
                                        *ngIf="this.thirdFormGroup.get('previous_employment_period_start').hasError('required') || this.thirdFormGroup.get('previous_employment_period_end').hasError('required')"
                                        class="uppercase text-md text-red-500">Date range field is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Previous Supervisor/Reference</mat-label>
                                    <input matInput type="text" formControlName="previous_supervisor_reference">
                                    <mat-hint
                                        *ngIf="this.thirdFormGroup.get('previous_supervisor_reference').hasError('required')"
                                        class="uppercase text-md text-red-500">Previous Supervisor/Reference field is
                                        required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Can we contact Previous Supervisor/Reference?</mat-label>
                                    <mat-select matNativeControl formControlName="previous_contact_supervisor">
                                        <mat-option value="true"> Yes</mat-option>
                                        <mat-option value="false">No</mat-option>
                                    </mat-select>
                                    <mat-hint
                                        *ngIf="this.thirdFormGroup.get('previous_contact_supervisor').hasError('required')"
                                        class="uppercase text-md text-red-500">Can we contact Previous
                                        Supervisor/Reference field
                                        is
                                        required</mat-hint>
                                </mat-form-field>
                            </div>
                            <!-- Previous Supervisor Phone Number -->
                            <div class="flex">
                                <mat-form-field
                                    [ngClass]="previousSupervisorCountryCodeLength === 2 ? 'countryCode1' : previousSupervisorCountryCodeLength === 3 ? 'countryCode2' : previousSupervisorCountryCodeLength === 4 ? 'countryCode3' : 'noCountryCode'"
                                    class="w-full">
                                    <mat-label class="ml-2.5">Previous Supervisor Phone Number</mat-label>
                                    <input class="h-6"
                                        *ngIf="thirdFormGroup.get('previous_supervisor_country_code').value == 'us' "
                                        maxlength="14" appPhoneMask type="text" matInput
                                        formControlName="previous_supervisor_phone_number">
                                    <input class="h-6"
                                        *ngIf="thirdFormGroup.get('previous_supervisor_country_code').value != 'us'"
                                        maxlength="14" type="text" matInput
                                        formControlName="previous_supervisor_phone_number">
                                    <mat-select formControlName="previous_supervisor_country_code" matPrefix>
                                        <mat-select-trigger>
                                            <span class="flex items-center">
                                                <span class="hidden sm:flex w-6 h-4 mr-1 overflow-hidden"
                                                    [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                    [style.backgroundSize]="'24px 3876px'"
                                                    [style.backgroundPosition]="getCountryByIso(thirdFormGroup.get('previous_supervisor_country_code').value,4).flagImagePos"></span>
                                                <span
                                                    class="sm:mx-0.5 font-medium text-default">{{getCountryByIso(thirdFormGroup.get('previous_supervisor_country_code').value,4).code}}</span>
                                            </span>
                                        </mat-select-trigger>
                                        <ng-container *ngFor="let country of countries">
                                            <mat-option [value]="country.iso">
                                                <span class="flex items-center">
                                                    <span class="w-6 h-4 overflow-hidden"
                                                        [style.background]="'url(\'/assets/images/apps/contacts/flags.png\') no-repeat 0 0'"
                                                        [style.backgroundSize]="'24px 3876px'"
                                                        [style.backgroundPosition]="country.flagImagePos"></span>
                                                    <span class="ml-2">{{country.name}}</span>
                                                    <span class="ml-2 font-medium">{{country.code}}</span>
                                                </span>
                                            </mat-option>
                                        </ng-container>
                                    </mat-select>
                                    <mat-hint>
                                        <span class="ml-3 font-normal text-md uppercase text-green-500">
                                            Select your
                                            Country's
                                            Code
                                        </span>
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                            <div></div>
                            <div>
                                <mat-form-field appearance="outline" (click)="fileUpload.click()" class="w-full">
                                    <mat-label>Upload Resume</mat-label>
                                    <input matInput [value]=this.resumePreview />
                                    <input for="file" name="fileInput" id="fileInput" type='file' accept="file"
                                        (change)="uploadResume($event)" #fileUpload />
                                    <mat-icon matSuffix [svgIcon]="'heroicons_outline:upload'"></mat-icon>

                                </mat-form-field>
                            </div>
                        </div>


                        <div>
                            <mat-form-field appearance="outline" class="w-full">
                                <mat-label>Authorized to Work in US?</mat-label>
                                <mat-select matNativeControl formControlName="authorized_to_work">
                                    <mat-option value="true"> Yes</mat-option>
                                    <mat-option value="false">No</mat-option>
                                </mat-select>
                                <mat-hint *ngIf="this.thirdFormGroup.get('authorized_to_work').hasError('required')"
                                    class="uppercase text-md text-red-500">Do you have a Lorry License? field is
                                    required
                                </mat-hint>
                            </mat-form-field>
                        </div>
                        <div>
                            <mat-form-field appearance="outline" class="w-full">
                                <mat-label>Do you have a Lorry License?</mat-label>
                                <mat-select matNativeControl formControlName="lorry_license">
                                    <mat-option value="true"> Yes</mat-option>
                                    <mat-option value="false">No</mat-option>
                                </mat-select>
                                <mat-hint *ngIf="this.thirdFormGroup.get('lorry_license').hasError('required')"
                                    class="uppercase text-md text-red-500">Do you have a Lorry License? field is
                                    required
                                </mat-hint>
                            </mat-form-field>
                        </div>
                        <div>
                            <mat-form-field appearance="outline" class="w-full">
                                <mat-label>Do you have a CDL License?</mat-label>
                                <mat-select matNativeControl formControlName="cdl_license">
                                    <mat-option value="true"> Yes</mat-option>
                                    <mat-option value="false">No</mat-option>
                                </mat-select>
                                <mat-hint *ngIf="this.thirdFormGroup.get('cdl_license').hasError('required')"
                                    class="uppercase text-md text-red-500">Do you have a CDL License? field is
                                    required</mat-hint>
                            </mat-form-field>
                        </div>
                        <div>
                            <mat-form-field appearance="outline" class="w-full">
                                <mat-label>Do you have a Tractor License?</mat-label>
                                <mat-select matNativeControl formControlName="tractor_license">
                                    <mat-option value="true"> Yes</mat-option>
                                    <mat-option value="false">No</mat-option>
                                </mat-select>
                                <mat-hint *ngIf="this.thirdFormGroup.get('tractor_license').hasError('required')"
                                    class="uppercase text-md text-red-500">Do you have a Tractor License? field is
                                    required
                                </mat-hint>
                            </mat-form-field>
                        </div>
                        <h3 class="mt-4 text-xl font-bold">On the next 5 questions, Rate yourself on a scale of 1 to 5.
                            With
                            5 being the highest.</h3>
                        <div class="md:flex lg:flex align-center my-1.5">
                            <div class="sm:w-auto md:w-8/12 lg:w-96">
                                <label>Operating Farm Equipment (ie. Tractors): </label>
                            </div>
                            <mat-radio-group class="grid md:flex lg:flex" formControlName="question_1">
                                <mat-radio-button value="1">1</mat-radio-button>
                                <mat-radio-button value="2">2</mat-radio-button>
                                <mat-radio-button value="3">3</mat-radio-button>
                                <mat-radio-button value="4">4</mat-radio-button>
                                <mat-radio-button value="5">5</mat-radio-button>
                                <mat-hint *ngIf="this.thirdFormGroup.get('question_1').hasError('required')"
                                    class="uppercase text-md text-red-500"> This field is
                                    required</mat-hint>
                            </mat-radio-group>
                        </div>
                        <div class="md:flex lg:flex align-center my-1.5">
                            <div class="sm:w-auto md:w-8/12 lg:w-96">
                                <label>Operating Harvesting Equipment (ie. Combines): </label>
                            </div>
                            <mat-radio-group class="grid md:flex lg:flex" formControlName="question_2">
                                <mat-radio-button value="1">1</mat-radio-button>
                                <mat-radio-button value="2">2</mat-radio-button>
                                <mat-radio-button value="3">3</mat-radio-button>
                                <mat-radio-button value="4">4</mat-radio-button>
                                <mat-radio-button value="5">5</mat-radio-button>
                                <mat-hint *ngIf="this.thirdFormGroup.get('question_2').hasError('required')"
                                    class="uppercase text-md text-red-500">This field is
                                    required
                                </mat-hint>
                            </mat-radio-group>
                        </div>
                        <div class="md:flex lg:flex align-center my-1.5">
                            <div class="sm:w-auto md:w-8/12 lg:w-96">
                                <label class="font-md">Driving Trucks (ie. Artic and/or Semi's): </label>
                            </div>
                            <mat-radio-group class="grid md:flex lg:flex" formControlName="question_3">
                                <mat-radio-button value="1">1</mat-radio-button>
                                <mat-radio-button value="2">2</mat-radio-button>
                                <mat-radio-button value="3">3</mat-radio-button>
                                <mat-radio-button value="4">4</mat-radio-button>
                                <mat-radio-button value="5">5</mat-radio-button>
                                <mat-hint *ngIf="this.thirdFormGroup.get('question_3').hasError('required')"
                                    class="uppercase text-md text-red-500">This
                                    field is
                                    required</mat-hint>
                            </mat-radio-group>
                        </div>
                        <div class="md:flex lg:flex align-center my-1.5">
                            <div class="sm:w-6/12 md:w-8/12 lg:w-96">
                                <label>Welding Experience: </label>
                            </div>
                            <mat-radio-group class="grid md:flex lg:flex" formControlName="question_4">
                                <mat-radio-button value="1">1</mat-radio-button>
                                <mat-radio-button value="2">2</mat-radio-button>
                                <mat-radio-button value="3">3</mat-radio-button>
                                <mat-radio-button value="4">4</mat-radio-button>
                                <mat-radio-button value="5">5</mat-radio-button>
                                <mat-hint *ngIf="this.thirdFormGroup.get('question_4').hasError('required')"
                                    class="uppercase text-md text-red-500">This field is
                                    required</mat-hint>
                            </mat-radio-group>
                        </div>
                        <div class="md:flex lg:flex align-center my-1.5">
                            <div class="sm:w-6/12 md:w-8/12 lg:w-96">
                                <label>Mechanical Experience: </label>
                            </div>
                            <mat-radio-group class="grid md:flex lg:flex" formControlName="question_5">
                                <mat-radio-button value="1">1</mat-radio-button>
                                <mat-radio-button value="2">2</mat-radio-button>
                                <mat-radio-button value="3">3</mat-radio-button>
                                <mat-radio-button value="4">4</mat-radio-button>
                                <mat-radio-button value="5">5</mat-radio-button>
                                <mat-hint *ngIf="this.thirdFormGroup.get('question_5').hasError('required')"
                                    class="uppercase text-md text-red-500">This field is
                                    required</mat-hint>
                            </mat-radio-group>
                        </div>

                        <div>
                            <mat-form-field class="w-full mt-4" appearance="outline">
                                <mat-label>Please provide a description of your most relevant work experiences and/or
                                    job skills (and how you think they relate to DHT job requirements).</mat-label>
                                <textarea matInput type="text"
                                    formControlName="work_experience_description"> </textarea>
                                <mat-hint
                                    *ngIf="this.thirdFormGroup.get('work_experience_description').hasError('required')"
                                    class="uppercase text-md text-red-500">This field is required
                                </mat-hint>
                            </mat-form-field>
                        </div>
                    </form>
                </mat-step>
                <mat-step [stepControl]="fourthFormGroup" [editable]="true">
                    <form [formGroup]="fourthFormGroup" class="flex flex-col flex-auto sm:grid">
                        <ng-template matStepLabel>Education and Misc.</ng-template>
                        <div class="md:grid md:grid-cols-2 md:gap-4">
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Trade School/College</mat-label>
                                    <input matInput type="text" formControlName="school_college">
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Degree Name</mat-label>
                                    <input matInput type="text" formControlName="degree_name">
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field MY_FORMATS appearance="outline" class="w-full">
                                    <mat-label>Graduation Year</mat-label>
                                    <input readonly matInput [matDatepicker]="dp" [formControl]="graduation_year">
                                    <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
                                    <mat-datepicker #dp startView="multi-year"
                                        (yearSelected)="chosenYearHandler($event, dp)"
                                        panelClass="example-month-picker">
                                    </mat-datepicker>
                                    <mat-hint *ngIf="this.fourthFormGroup.get('graduation_year').hasError('required')"
                                        class="uppercase text-md text-red-500">Graduation Year is required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Reasons for applying </mat-label>
                                    <mat-select formControlName="reason_for_applying" class="languages overflow-hidden"
                                        multiple>
                                        <mat-option value="See the United States">See the United States</mat-option>
                                        <mat-option value="Travel">Travel</mat-option>
                                        <mat-option value="Learn more about harvesting in the U.S.">Learn more about
                                            harvesting in the U.S</mat-option>
                                        <mat-option value="Financial">Financial</mat-option>
                                        <mat-option value="Other">Other</mat-option>
                                    </mat-select>
                                    <mat-hint
                                        *ngIf="this.fourthFormGroup.get('reason_for_applying').hasError('required')"
                                        class="uppercase text-md text-red-500">Reasons for applying field is
                                        required</mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>How did you hear about DHT?</mat-label>
                                    <mat-select matNativeControl formControlName="hear_about_dht">
                                        <mat-option value="Done Deal">Done Deal</mat-option>
                                        <mat-option value="Farmers Journal">Farmers Journal</mat-option>
                                        <mat-option value="Top Link">Top Link</mat-option>
                                        <mat-option value="Facebook">Facebook</mat-option>
                                        <mat-option value="From a Friend">From a Friend</mat-option>
                                        <mat-option value="Internet Search">Internet Search</mat-option>
                                        <mat-option value="Farmers Weekly">Farmers Weekly</mat-option>
                                        <mat-option value="Trademe.co.nz">Trademe.co.nz</mat-option>
                                        <mat-option value="Twitter">Twitter</mat-option>
                                        <mat-option value="Other">Other</mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="this.fourthFormGroup.get('hear_about_dht').hasError('required')"
                                        class="uppercase text-md text-red-500">How did you hear about DHT? field is
                                        required
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label>Tell us something interesting (unique) about yourself</mat-label>
                                    <textarea matInput type="text" id="unique_fact"
                                        formControlName="unique_fact"> </textarea>
                                    <mat-hint *ngIf="this.fourthFormGroup.get('unique_fact').hasError('required')"
                                        class="uppercase text-md text-red-500">Tell us something interesting (unique)
                                        about
                                        yourself is
                                        required</mat-hint>
                                </mat-form-field>
                            </div>

                        </div>
                    </form>
                </mat-step>
                <mat-step class="bg-green">
                    <ng-template matStepLabel>Done</ng-template>
                    <div
                        class="w-full lg:h-100 md:h-100 sm:h-100 h-auto flex-col sm:p-20 flex flex-col justify-center items-center m-auto">
                        <mat-icon [ngStyle]="{'color':'green'}"
                            class="icon-size-18 sm:icon-size-24 bg-gray-100 rounded-full justify-center items-center m-auto"
                            [svgIcon]="'heroicons_outline:check'"></mat-icon>
                        <p class="flex justify-center items-center font-bold text-2xl">You have successfully submitted
                            the applicant
                            details. Please click on save button to complete the process.</p>
                    </div>
                </mat-step>
            </mat-horizontal-stepper>
        </div>
    </main>
    <header
        class="mr-4 mb-4 flex flex-0 items-center justify-end h-16 pr-3 sm:pr-5 pl-6 sm:pl-8 bg-white text-on-primary">
        <button *ngIf="isBack" class="ml-4 " mat-flat-button class="bg-amber-600 text-white" data-bs-dismiss="modal"
            (click)="stepper.previous()">
            Back
        </button>
        <button *ngIf="!isSubmit" class="ml-4 " mat-flat-button [color]="'primary'" data-bs-dismiss="modal"
            [disabled]="step === 1 && isState && !validState" (click)="stepper.next()">
            Next
        </button>
        <button *ngIf="isSubmit" class="ml-4" mat-flat-button [color]="'primary'" data-bs-dismiss="modal"
            (click)="submit()">
            Save
        </button>
    </header>
</div>