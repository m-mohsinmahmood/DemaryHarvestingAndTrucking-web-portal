<div class="sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 overflow-y-hidden bg-card dark:bg-transparent">
    <!-- Header -->
    <div class="border-b">
        <div class="overflow-auto relative py-4 px-6 md:px-8 flex flex-col sm:flex-row flex-0 sm:items-center">
            <div class="absolute inset-x-0 bottom-0" *ngIf="isLoadingCustomerContacts$ | async">
                <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
            </div>
            <!-- Title -->
            <div>
                <mat-icon class="subnav-menu-icon" svgIcon="heroicons_outline:menu" (click)="toggleDrawer()">
                </mat-icon>
            </div>
            <div *ngIf="customer$ | async; let customer" (click)="backHandler()" class="flex gap-3 items-center text-4xl font-extrabold tracking-tight">
                <mat-icon class="icon-size-6 text-secondary" [svgIcon]="'heroicons_solid:arrow-circle-left'"></mat-icon>
                <!-- <img *ngIf="customers.avatar" class="inline-block h-14 w-14 rounded-full" src="{{customers.avatar}}" alt="">
                <img *ngIf="customers.avatar == ''" class="inline-block h-12 w-14 rounded-full" src="https://www.pngitem.com/pimgs/m/150-1503945_transparent-user-png-default-user-image-png-png.png" alt=""> -->
                <span class="ml-1 capitalize">{{ customer?.company_name }}
                </span>
            </div>
        </div>
    </div>

    <div style="height: 100%">
        <mat-drawer-container class="sub-nav-component bg-card divide-x" style="height: 100%" autosize>
            <mat-drawer #drawer class="sub-sidenav bg-card" [mode]="drawerMode" [opened]="drawerOpened">
                <div class="flex" *ngFor="let route of routes; let i = index">
                    <button style="padding: 15px" [style.background-color]="
                            route.title === selectedIndex
                                ? '#d4d7dd'
                                : 'transparent'
                        " [ngClass]="
                            route.title === selectedIndex
                                ? 'opacity-100'
                                : 'opacity-80'
                        " mat-button class="my-1 justify-start w-full" (click)="clicked(route)">
                        <mat-icon
                            svgIcon="{{ route.icon }}"
                            class="icon-size-5 text-primary"
                        ></mat-icon>
                        <span
                            style="
                                font-size: 13px;
                                font-weight: bold;
                                margin-left: 10px;
                            "
                        ></span>
                    </button>
                </div>
            </mat-drawer>

            <div class="flex sub-sidenav-content bg-light">
                <div class="w-full h-full">
                    <div class="tab bg-white shadow overflow-auto">
                        <div>
                            <ng-template [ngIf]="selectedIndex === 'Customer General Information'">
                                <app-general-info></app-general-info>
                            </ng-template>
                        </div>

                        <div *ngIf="
                                customerContacts$ | async;
                                let customerContact
                            ">
                            <ng-template [ngIf]="selectedIndex === 'Contact Data'">
                                <customers-contacts [customersContact]="customerContact">
                                </customers-contacts>
                            </ng-template>
                        </div>

                        <div *ngIf="customerFields$ | async as customerFields">
                            <div *ngIf="customerDestination$ | async as customerDestination">
                                <ng-template *ngIf="customerFarms$ | async as customerFarms" [ngIf]="selectedIndex === 'Farm Data'">
                                    <app-farm-data [customerFields]="customerFields" [customerId]="this.routeID" [customerFarms]="customerFarms" [destinationData]="customerDestination">
                                    </app-farm-data>
                                </ng-template>
                            </div>
                        </div>
                        <div>
                            <ng-template [ngIf]="selectedIndex === 'Rate Data'">
                                <app-rate-data> </app-rate-data>
                            </ng-template>
                        </div>
                        <div>
                            <ng-template [ngIf]="selectedIndex === 'Job Result'">
                                <app-job-result> </app-job-result>
                            </ng-template>
                        </div>
                        <div>
                            <ng-template [ngIf]="selectedIndex === 'Job Status'">
                                <app-job-status> </app-job-status>
                            </ng-template>
                        </div>
                        <div>
                            <ng-template [ngIf]="selectedIndex === 'Invoice'">
                                <app-invoice> </app-invoice>
                            </ng-template>
                        </div>
                        <div>
                            <ng-template [ngIf]="selectedIndex === 'Resources'">
                                <app-resources> </app-resources>
                            </ng-template>
                        </div>
                        <div>
                            <ng-template [ngIf]="selectedIndex === 'Documentation'">
                                <document-list> </document-list>
                            </ng-template>
                        </div>
                    </div>
                </div>
            </div>
        </mat-drawer-container>

        <!-- Main -->
    </div>
</div>